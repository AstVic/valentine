<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>ананас❤️</title>

<style>
    html, body {
        margin: 0;
        padding: 0;
        background: white;
        overflow: hidden;
        height: 100%;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    canvas {
        display: block;
    }

    .text {
        position: absolute;
        top: 8%;
        width: 100%;
        text-align: center;
        font-size: clamp(28px, 6vw, 48px);
        color: #ff4d6d;
        letter-spacing: 1px;
        user-select: none;
        text-shadow: 0 0 12px rgba(255, 77, 109, 0.8);
    }
</style>
</head>

<body>
<div class="text">ананас❤️</div>
<canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
window.addEventListener("resize", resize);
resize();

// функция сердца
function heart(t) {
    return {
        x: 16 * Math.sin(t) ** 3,
        y: 13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t)
    };
}

// массив для маленьких сердечек
let smallHearts = [];
const startTime = Date.now();

// создаем маленькое сердце
function spawnSmallHeart() {
    const now = Date.now();
    if(now - startTime < 5000){ // только первые 5 секунд
        const angle = Math.random() * 2 * Math.PI;
        const speed = 1 + Math.random()*2;
        smallHearts.push({
            x: canvas.width/2,
            y: canvas.height/2,
            vx: Math.cos(angle) * speed,
            vy: Math.sin(angle) * speed,
            size: 5 + Math.random()*3,
            color: `hsl(${Math.random()*360}, 100%, 65%)`
        });
    }
}

// отрисовка большого сердца
function drawBigHeart() {
    const scale = Math.min(canvas.width, canvas.height) / 40;
    ctx.save();
    ctx.translate(canvas.width/2, canvas.height/2);
    ctx.fillStyle = "#ff4d6d";
    ctx.beginPath();
    for(let t=0; t<Math.PI*2; t+=0.01){
        const {x,y} = heart(t);
        ctx.lineTo(x*scale, -y*scale);
    }
    ctx.closePath();
    ctx.fill();
    ctx.restore();
}

// отрисовка маленьких сердечек
function drawSmallHearts() {
    smallHearts.forEach((h, i)=>{
        ctx.fillStyle = h.color;
        ctx.beginPath();
        ctx.moveTo(h.x, h.y - h.size/2);
        ctx.bezierCurveTo(h.x - h.size, h.y - h.size*1.5, h.x - h.size*2, h.y + h.size/3, h.x, h.y + h.size);
        ctx.bezierCurveTo(h.x + h.size*2, h.y + h.size/3, h.x + h.size, h.y - h.size*1.5, h.x, h.y - h.size/2);
        ctx.fill();

        // движение сердечек
        h.x += h.vx;
        h.y += h.vy;
        h.vy += 0.02; // легкая гравитация

        // удаляем сердечки за пределами экрана
        if(h.y - h.size > canvas.height || h.x - h.size > canvas.width || h.x + h.size < 0){
            smallHearts.splice(i,1);
        }
    });
}

// главный цикл анимации
function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    drawBigHeart(); // сплошное сердце
    spawnSmallHeart();
    drawSmallHearts();

    requestAnimationFrame(draw);
}

draw();
</script>
</body>
</html>
